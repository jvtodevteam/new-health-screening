import{r as m,j as e,a as j}from"./app-2DieTmXj.js";import{Q as o}from"./index-1YVrvoff.js";function b({examination:s,medicalStaff:t,organization:a}){var d;m.useEffect(()=>{setTimeout(()=>{window.print()},1e3)},[]);const r=`${window.location.origin}/verify-examination/${s.unique_code}`,l=new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),n=new Date(s.examined_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),c=(()=>{const i=parseInt(s.systolic_blood_pressure),h=parseInt(s.diastolic_blood_pressure),x=parseFloat(s.temperature);return i>140||h>90||x>37.5?"Tidak Sehat":"Sehat"})();return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:`Cetak Surat Kesehatan - ${s.name}`}),e.jsxs("div",{className:"print-container mx-auto p-8 max-w-4xl bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-gray-800 pb-4 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:a.logo_url||"/logo.svg",alt:"Logo",className:"h-16 mr-4"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:a.name||"KLINIK KESEHATAN"}),e.jsx("p",{className:"text-sm",children:a.address||"Jl. Kesehatan No. 123, Kota"}),e.jsxs("p",{className:"text-sm",children:["Telp: ",a.phone||"021-12345678"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm",children:["No. Ref: ",s.reference_id]}),e.jsxs("p",{className:"text-sm",children:["Tanggal: ",n]})]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold uppercase underline",children:"SURAT KETERANGAN KESEHATAN"}),e.jsxs("p",{className:"text-sm",children:["No: ",s.reference_id,"/SKK/",new Date().getFullYear()]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"mb-4",children:"Yang bertanda tangan di bawah ini menerangkan bahwa:"}),e.jsx("table",{className:"w-full mb-6",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/3 py-1",children:"Nama"}),e.jsx("td",{className:"w-1/12",children:":"}),e.jsx("td",{className:"font-semibold",children:s.name})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Umur"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.age," tahun"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Jenis Kelamin"}),e.jsx("td",{children:":"}),e.jsx("td",{children:s.title==="Mr"?"Laki-laki":"Perempuan"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"No. Identitas"}),e.jsx("td",{children:":"}),e.jsx("td",{children:s.id_number})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Kebangsaan"}),e.jsx("td",{children:":"}),e.jsx("td",{children:((d=s.nationality)==null?void 0:d.name)||"-"})]})]})}),e.jsx("p",{className:"mb-4",children:"Telah dilakukan pemeriksaan kesehatan dengan hasil:"}),e.jsx("table",{className:"w-full mb-6",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"w-1/3 py-1",children:"Tekanan Darah"}),e.jsx("td",{className:"w-1/12",children:":"}),e.jsxs("td",{children:[s.systolic_blood_pressure,"/",s.diastolic_blood_pressure," mmHg"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Denyut Nadi"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.heart_rate," bpm"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Suhu Tubuh"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.temperature,"Â°C"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Pernapasan"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.respiratory_rate," napas/menit"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Saturasi Oksigen"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.oxygen_saturation,"%"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Tinggi Badan"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.height," cm"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1",children:"Berat Badan"}),e.jsx("td",{children:":"}),e.jsxs("td",{children:[s.weight," kg"]})]})]})}),e.jsxs("p",{className:"mb-4",children:["Berdasarkan hasil pemeriksaan tersebut, yang bersangkutan dinyatakan ",e.jsx("span",{className:"font-bold",children:c}),"."]}),s.notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-semibold",children:"Catatan:"}),e.jsx("p",{children:s.notes})]}),e.jsx("p",{className:"mb-8",children:"Demikian surat keterangan ini dibuat dengan sebenarnya untuk dapat dipergunakan sebagaimana mestinya."})]}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsxs("div",{className:"text-center w-1/3",children:[e.jsxs("p",{children:[a.city||"Jakarta",", ",l]}),e.jsx("p",{children:"Petugas Medis,"}),e.jsx("div",{className:"h-24 flex items-end justify-center",children:e.jsx("p",{className:"font-semibold border-b border-black",children:t.name||t.username})})]})}),e.jsxs("div",{className:"flex justify-between items-center border-t border-gray-300 pt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{value:r,size:80,level:"H"}),e.jsxs("div",{className:"ml-2",children:[e.jsx("p",{className:"text-xs",children:"Scan untuk verifikasi"}),e.jsx("p",{className:"text-xs",children:r})]})]}),e.jsxs("div",{className:"text-right text-xs",children:[e.jsx("p",{children:"Dokumen ini sah tanpa tanda tangan basah."}),e.jsxs("p",{children:["Dicetak pada: ",new Date().toLocaleString("id-ID")]})]})]})]}),e.jsx("style",{jsx:!0,global:!0,children:`
                @media print {
                    body {
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    @page {
                        size: A4;
                        margin: 1cm;
                    }
                    .print-container {
                        padding: 0;
                        max-width: none;
                    }
                }
            `})]})}export{b as default};
