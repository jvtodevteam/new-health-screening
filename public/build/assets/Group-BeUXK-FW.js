import{r as u,j as e,a as M,J as d}from"./app-DI6p9WrP.js";import{M as $}from"./MedicalLayout-D-KPQS2z.js";import{A as F}from"./arrow-left-3kJ5LSEb.js";import{U as G}from"./users-DIqPwgjw.js";import{C as R}from"./calendar-CbX7eWb_.js";import{M as T}from"./map-pin-DI_XwAHK.js";import{S as _}from"./sliders-horizontal-Dn6s9cEu.js";import{X as j}from"./x--1k-fxVq.js";import{C as B}from"./chevron-right-Cc3Kyqk_.js";import{S as A}from"./search-CrbXLLaa.js";import{C as f}from"./circle-check-big-CGPwjNml.js";import{C as y}from"./clock-CSH-wvA8.js";import{S as p}from"./square-pen-DhbOtB2j.js";import{Q as N}from"./qr-code-C2bWRovW.js";import{C as v}from"./circle-alert-ClPsphiT.js";import"./house-DUTZCGbS.js";import"./createLucideIcon-rwxDpmBf.js";import"./log-out-DQiSaGBz.js";import"./index-DxonJAKG.js";import"./portal-D4Rxa4g5.js";import"./transition-YbNv8y5N.js";function de({screening:i,participants:g}){const[n,w]=u.useState(""),[b,k]=u.useState(!1),[t,m]=u.useState("all"),[r,x]=u.useState("all"),a=g.filter(s=>{const l=n.toLowerCase(),P=s.name.toLowerCase().includes(l)||s.age.toString().includes(n)||(s.title==="Mr"?"laki-laki":"perempuan").includes(l),D=t==="all"||t==="male"&&s.title==="Mr"||t==="female"&&s.title==="Mrs",L=r==="all"||r==="examined"&&s.examined||r==="unexamined"&&!s.examined;return P&&D&&L}),C=()=>{m("all"),x("all")},c=g.filter(s=>s.examined).length,o=g.length,h=o>0?Math.round(c/o*100):0,S=o-c;return e.jsxs($,{children:[e.jsx(M,{title:`Pemeriksaan Group - ${i.reference_id}`}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs(d,{href:route("medical.registrations.index"),className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Kembali ke Daftar"]}),e.jsxs("h1",{className:"mt-2 text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(G,{className:"h-5 w-5 mr-2 text-blue-600"}),"Pemeriksaan Group"]})]}),e.jsxs("div",{className:"mt-2 md:mt-0 inline-flex items-center px-3 py-1 rounded-lg bg-blue-50 text-blue-700 text-sm font-medium",children:[e.jsx("span",{className:"mr-1.5",children:"Kode: "}),e.jsx("span",{className:"font-bold",children:i.reference_id})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Informasi Pemeriksaan"})}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[e.jsxs("div",{className:"flex items-center p-4",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:e.jsx(R,{className:"h-5 w-5 text-blue-600"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Tanggal Pemeriksaan"}),e.jsx("div",{className:"font-medium text-gray-900",children:i.formatted_date})]})]}),e.jsxs("div",{className:"flex items-center p-4",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("div",{className:"bg-indigo-100 rounded-full p-2",children:e.jsx(T,{className:"h-5 w-5 text-indigo-600"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Lokasi"}),e.jsx("div",{className:"font-medium text-gray-900",children:i.location_name})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Status Pemeriksaan"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-100",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Sudah Diperiksa"}),e.jsx("div",{className:"mt-1 text-2xl font-bold text-green-600",children:c})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 border border-yellow-100",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Belum Diperiksa"}),e.jsx("div",{className:"mt-1 text-2xl font-bold text-yellow-600",children:S})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Progress"}),e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[h,"%"]})]}),e.jsx("div",{className:"h-2.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${h<30?"bg-red-500":h<70?"bg-yellow-500":"bg-green-500"} transition-all duration-500`,style:{width:`${h}%`}})}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[c," dari ",o," peserta"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("h2",{className:"text-base font-medium text-gray-900",children:"Filter & Pencarian"})]}),e.jsx("button",{onClick:()=>k(!b),className:"text-gray-500 hover:text-blue-600 focus:outline-none",children:b?e.jsx(j,{className:"h-5 w-5"}):e.jsx(B,{className:"h-5 w-5"})})]}),e.jsx("div",{className:`transition-all duration-300 ${b?"max-h-96":"max-h-0 overflow-hidden"}`,children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cari Peserta"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"search",id:"search",placeholder:"Cari berdasarkan nama, usia, atau jenis kelamin",value:n,onChange:s=>w(s.target.value),className:"pl-10 block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jenis Kelamin"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>m("all"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${t==="all"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:"Semua"}),e.jsx("button",{type:"button",onClick:()=>m("male"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${t==="male"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:"Laki-laki"}),e.jsx("button",{type:"button",onClick:()=>m("female"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${t==="female"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:"Perempuan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Pemeriksaan"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>x("all"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${r==="all"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:"Semua"}),e.jsx("button",{type:"button",onClick:()=>x("examined"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${r==="examined"?"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:"Sudah Diperiksa"}),e.jsx("button",{type:"button",onClick:()=>x("unexamined"),className:`px-3 py-1.5 text-sm font-medium rounded-md ${r==="unexamined"?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"}`,children:"Belum Diperiksa"})]})]})]}),(t!=="all"||r!=="all"||n)&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"button",onClick:C,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none",children:[e.jsx(j,{className:"h-4 w-4 mr-1.5"}),"Reset Filter"]})})]})})]}),e.jsxs("div",{className:"md:hidden space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Daftar Peserta"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," orang"]})]}),a.length>0?a.map((s,l)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-blue-100 text-blue-700 font-medium text-xs rounded-full h-6 w-6 flex items-center justify-center mr-2",children:l+1}),e.jsx("h3",{className:"text-base font-medium text-gray-900",children:s.name})]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.jsxs("span",{className:"mr-3",children:[s.age," tahun"]}),e.jsx("span",{children:s.title==="Mr"?"Laki-laki":"Perempuan"})]})]}),s.examined?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Sudah Diperiksa"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Belum Diperiksa"]})]})}),e.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 p-2 grid grid-cols-2 gap-2",children:[e.jsxs(d,{href:route("medical.registrations.edit",[s.id,{from_group:!0}]),className:"flex items-center justify-center py-2 px-3 text-sm font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",children:[e.jsx(p,{className:"h-4 w-4 mr-1.5"}),s.examined?"Lihat/Edit":"Periksa"]}),e.jsxs(d,{href:route("medical.examinations.qrcode",s.id),className:"flex items-center justify-center py-2 px-3 text-sm font-medium text-indigo-600 hover:text-indigo-800 hover:bg-indigo-50 rounded-md transition-colors",children:[e.jsx(N,{className:"h-4 w-4 mr-1.5"}),"QR Code"]})]})]},s.id)):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[e.jsx(v,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Tidak ada data"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tidak ada data peserta yang sesuai dengan pencarian."})]})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Daftar Peserta"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," orang"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No."}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usia"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jenis Kelamin"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.length>0?a.map((s,l)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:l+1}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:s.name}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:[s.age," tahun"]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:s.title==="Mr"?"Laki-laki":"Perempuan"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.examined?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Sudah Diperiksa"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Belum Diperiksa"]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxs(d,{href:route("medical.registrations.edit",[s.id,{from_group:!0}]),className:"text-blue-600 hover:text-blue-800 inline-flex items-center",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),s.examined?"Lihat/Edit":"Periksa"]}),e.jsxs(d,{href:route("medical.examinations.qrcode",s.id),className:"text-indigo-600 hover:text-indigo-800 inline-flex items-center",children:[e.jsx(N,{className:"h-4 w-4 mr-1"}),"QR Code"]})]})})]},s.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"px-4 py-6 text-sm text-gray-500 text-center",children:[e.jsx(v,{className:"h-6 w-6 text-gray-400 mx-auto mb-2"}),"Tidak ada data peserta yang sesuai dengan pencarian."]})})})]})})})]})]})]})}export{de as default};
