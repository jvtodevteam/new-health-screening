import{r as c,j as s,J as d}from"./app-DI6p9WrP.js";import{u as m}from"./useTranslation-rbbxRhLk.js";import{C as u}from"./circle-check-big-CGPwjNml.js";import"./createLucideIcon-rwxDpmBf.js";const p=({screening:e})=>{const{t}=m(),[r,l]=c.useState(5),o=(e==null?void 0:e.payment_method)==="spot";c.useEffect(()=>{if(e){if(o){const n=setTimeout(()=>{window.location.href=route("screenings.show",e.reference_id)},5e3);return()=>clearTimeout(n)}else if(e.payment_url)if(sessionStorage.getItem("hasRedirectedToPayment")==="true"){const i=setTimeout(()=>{window.location.href=route("screenings.show",e.reference_id)},5e3);return()=>clearTimeout(i)}else{const i=setTimeout(()=>{sessionStorage.setItem("hasRedirectedToPayment","true"),window.location.href=e.payment_url},5e3);return()=>clearTimeout(i)}}},[e,o]),c.useEffect(()=>{if(r>0){const n=setInterval(()=>{l(i=>i-1)},1e3);return()=>clearInterval(n)}},[r]);const a=sessionStorage.getItem("hasRedirectedToPayment")==="true";return s.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-6",children:s.jsx(u,{size:32,className:"text-green-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3 text-center",children:t.submissionSuccessful}),s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:t.screeningScheduledSuccessfully}),s.jsxs("div",{className:"w-full max-w-sm bg-green-50 rounded-lg p-4 mb-6 text-center",children:[s.jsx("p",{className:"text-green-700",children:o?`${t.redirectingToDetails||"Redirecting to screening details in"} ${r} ${t.seconds}...`:a?`${t.redirectingToDetails} ${r} ${t.seconds}...`:`${t.redirectingToPayment} ${r} ${t.seconds}...`}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-1000 ease-linear",style:{width:`${r/5*100}%`}})})]}),s.jsx(d,{href:o||a?route("screenings.show",e.reference_id):e.payment_url||"#",className:"text-green-500 font-medium",children:o?t.viewDetails||"View Details Now":a?t.proceedNow:t.proceedToPaymentNow})]})};export{p as default};
